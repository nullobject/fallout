#!/usr/bin/env ruby

$:.unshift File.join(File.expand_path(File.dirname(__FILE__)), '..', 'lib')

require 'rubygems'
require 'bundler/setup'

require 'fallout'

manager = Fallout::Manager.instance

manager.sources << Fallout::Source::Hudson.new
manager.sinks   << Fallout::Sink::LEDMatrix.new
manager.sinks   << Fallout::Sink::Vox.new

trap("TERM") { manager.stop }
trap("INT")  { manager.stop }

manager.run
